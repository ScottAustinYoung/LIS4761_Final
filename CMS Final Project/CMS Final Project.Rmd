---
title: "CMS Final Project"
author: Christopher Reddish, Khushi Patel, Naomi Vaid, Sneh Patel, Scott Young,  and
  Steven Barden
date: ""
output: html_document
---

## Introduction

```{r, "Libraries"}
# Add your library below.


```

##Cleaning the dataset: Sneh Patel, Steven Barden, Christopher Reddish
1. Filtering out Florida Data
2. Adding Custom Labels for column (needed)
3. Removing unwanted columns (needed)
```{r, "Step 1"}
## Step 1.1
# Read CSV 
# data <- read.csv("data/OGdataCMS.csv")  

# Filter rows where zipcode is between 32001 and 34999
# filtered_data <- data[data$Rndrng_Prvdr_Zip5 >= 32001 & data$Rndrng_Prvdr_Zip5 <= 34999, ]

# Save the filtered data to a new CSV in the 'data' folder
# write.csv(filtered_data, "data/filtered_data.csv", row.names = FALSE)

# Print confirmation
print(paste("Filtered data saved to: data/filtered_data.csv"))
```

## Association Rule Mining: Christopher Reddish, Scott Young
 
```{r, "Step 2"}

```


## K-Means Clustering: Christopher Reddish, Sneh Patel

```{r, "Step 3"}

```


## Linear Regression: Steven Barden, Scott Young
 
```{r, "Step 4"}
df_lm <- read.csv("Data/chris_cleaned_data.csv") #replace once 1.1 is revised with the loaded data so that we have a separate df to as.factor the needed variables.

#Ensuring the Linear Regression model understands that the following variables are categorical and not numeric types.
df_lm$Place_Of_Srvc <- as.factor(df_lm$Place_Of_Srvc)
df_lm$Specialty <- as.factor(df_lm$Specialty)
df_lm$RUCA_Desc <- as.factor(df_lm$RUCA_Desc)

#Creation of the Linear Regression model.
lm_model <- lm(Medicare_Payment ~ Services + Submitted_Charge + Beneficiaries +
                 Place_Of_Srvc + Specialty + RUCA_Desc, data = df_lm)

summary(lm_model)
```
# The linear model uses Services, Submitted_Charge, and Beneficiaries as the numeric predictors.
# The categorical predictors are Place_Of_Srvc, Specialty, and RUCA_Desc.
# The R-squared value of the model is 0.6486, which explains a 65%~ variation in Medicare_Payment.
# The F-statistic & P-values are both quite high, indicating a statistically significant model.
# The average error stands at about $176.
# As the Services increase, the average Medicare_Payment slightly decreases which tells that dense facilities reflect an economy-of-scale factor.
# The strongest predictor is the Submitted_Charge value, in which higher billed values raises Medicare payments, as is obvious.
# Beneficiaries stands as not significant, meaning the amount of people receiving service does not influence costs.
# Place_Of_Srvc0, in an office setting, has a high p-value of $20.20. This stands to reason that smaller facilities are associated with a higher cost.
# In terms of other categorical variables and their effect, Specialty has a range of types in which costs are reduced or increased on average.
## Increases include: Ambulance Service Provider, Oral Surgery, Peripheral Vascular Disease, and Micrographic Dermatologic Surgery.
## Decreases include: CRN and Anesthesiology.
# RUCA_Desc has the following takeaways: Micropolitan areas receive less payment, Secondary flow to large urbanized areas has a higher payment.

## Heat Map Visual: Khushi Patel, Naomi Vaid
 
```{r, "Step 5"}

```
